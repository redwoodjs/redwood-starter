import depthLimit from 'graphql-depth-limit';

const useDepthLimit = (config) => {
    const ignore = config.ignore || [];
    const checkFn = depthLimit(config.maxDepth, { ignore });
    return {
        onValidate({ addValidationRule }) {
            addValidationRule(checkFn);
        },
    };
};

export { useDepthLimit };
